{% extends "base.html" %}
{% block content %}

<nav class="navbar navbar-light bg-white shadow-sm px-3">
    <a href="{{ url_for('main.index', date=business_date) }}"
       class="btn btn-link text-decoration-none"
       data-transition="back">&larr; 返回</a>
    <span class="navbar-brand mb-0 h5">录入单据</span>
    <span></span>
</nav>

<div class="container mt-4 mb-5">
    <p class="small text-muted">
        当前营业日：<strong>{{ business_date }}</strong>
    </p>

    <form method="post" action="{{ url_for('main.input_slip') }}">

        <!-- 营业日隐藏字段 -->
        <input type="hidden" name="business_date" value="{{ business_date }}">

        <!-- 桌号 -->
        <div class="mb-3">
            <label class="form-label">桌号（可选）</label>
            <input type="text" class="form-control" name="table" placeholder="例如 A3 / 5 号桌">
        </div>

        <!-- 人数 -->
        <div class="mb-3">
            <label class="form-label">人数</label>
            <input type="number" class="form-control" name="people" min="0" inputmode="numeric">
        </div>

        <!-- 金额 -->
        <div class="mb-3">
            <label class="form-label">金额（¥）</label>
            <input type="number" class="form-control" name="amount" min="0" inputmode="numeric">
        </div>

        <!-- 支付方式（iOS风格） -->
        <div class="mb-3">
            <label class="form-label">支付方式</label>

            <div class="pm-group">
                {% for key,label in {
                    "cash":"现金","credit":"クレジット",
                    "wechat":"WeChat","paypay":"PayPay","alipay":"支付宝"
                }.items() %}
                <label class="pm-option">
                    <input type="radio" name="payment_method" value="{{ key }}" {% if key=='cash' %}checked{% endif %}>
                    <span class="pm-chip">{{ label }}</span>
                </label>
                {% endfor %}
            </div>
        </div>

        <!-- 保存按钮 -->
        <div class="d-grid gap-2">
            <button class="btn btn-primary btn-lg fw-bold" type="submit">
                保存
            </button>
        </div>
    </form>
</div>

{% endblock %}