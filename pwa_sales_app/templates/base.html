<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover">

    <title>å£²ä¸Šè¨ˆç®—ã‚¢ãƒ—ãƒª</title>

    <!-- Bootstrap + è‡ªå®šä¹‰æ ·å¼ -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="{{ url_for('static', filename='css/style.css') }}">

    <!-- PWA -->
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
    <meta name="theme-color" content="#111111">
</head>
<body class="app-body">

<div class="app-shell page-transition">
    <!-- ä¸»ä½“å†…å®¹åŒºåŸŸï¼ˆä¸Šï¼‰ -->
    <div class="app-content">
        {% block content %}{% endblock %}
    </div>

    <!-- åº•éƒ¨ TabBarï¼ˆæ‰€æœ‰é¡µé¢ç»Ÿä¸€ï¼‰ -->
    <nav class="app-tabbar">
        <a href="{{ url_for('main.index') }}"
           class="tab-item {% if active_tab == 'home' %}is-active{% endif %}"
           data-transition="tab">
            <span class="tab-icon">ğŸ </span>
            <span class="tab-label">é¦–é¡µ</span>
        </a>

        <a href="{{ url_for('main.input_slip') }}"
           class="tab-item {% if active_tab == 'input' %}is-active{% endif %}"
           data-transition="tab">
            <span class="tab-icon">â•</span>
            <span class="tab-label">è®°ä¸€å•</span>
        </a>

        <a href="{{ url_for('main.report') }}"
           class="tab-item {% if active_tab == 'report' %}is-active{% endif %}"
           data-transition="tab">
            <span class="tab-icon">ğŸ“Š</span>
            <span class="tab-label">æ—¥æŠ¥</span>
        </a>

        <a href="{{ url_for('main.settings') }}"
           class="tab-item {% if active_tab == 'settings' %}is-active{% endif %}"
           data-transition="tab">
            <span class="tab-icon">âš™ï¸</span>
            <span class="tab-label">è®¾ç½®</span>
        </a>
    </nav>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>

<!-- Service Worker æ³¨å†Œç…§æ—§ -->
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function () {
      navigator.serviceWorker
        .register("{{ url_for('static', filename='js/service-worker.js') }}");
    });
  }
</script>
</body>
</html>